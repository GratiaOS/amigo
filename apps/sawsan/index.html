<!doctype html>
<html lang="ro">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="theme-color" content="#0b0b0a" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="mobile-web-app-capable" content="yes" />
    <link rel="icon" href="/favicon.svg" type="image/svg+xml" />
    <meta property="og:title" content="Sawsan | City of Lights âœ¨" />
    <meta property="og:description" content="Designer de oraÈ™e ğŸ™ï¸ Â· Sisteme clare ğŸ§¬ Â· LuminÄƒ Ã®n spaÈ›iu âœ¨" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://sawsan.amigo.sh" />
    <meta property="og:image" content="https://sawsan.amigo.sh/og.jpg?v=3" />
    <meta property="og:image:secure_url" content="https://sawsan.amigo.sh/og.jpg?v=3" />
    <meta property="og:image:type" content="image/jpeg" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Sawsan | City of Lights âœ¨" />
    <meta name="twitter:description" content="Designer de oraÈ™e ğŸ™ï¸ Â· Sisteme clare ğŸ§¬ Â· LuminÄƒ Ã®n spaÈ›iu âœ¨" />
    <meta name="twitter:image" content="https://sawsan.amigo.sh/og.jpg?v=3" />
    <title>Sawsan | City of Lights âœ¨</title>
    <link rel="stylesheet" href="/style.css" />
  </head>
  <body>
    <div class="background-overlay"></div>
    <div class="legacy-overlay" aria-hidden="true"></div>
    <div class="legacy-window" aria-hidden="true"></div>

    <main class="content">
      <header>
        <h1 class="glow-text">Sawsan</h1>
        <p class="subtitle" data-i18n="subtitle">Designer de oraÈ™e Â· City of Lights âœ¨</p>
      </header>

      <section class="motto">
        <p data-i18n="motto">â€Proiectez oraÈ™e care lumineazÄƒ ğŸ™ï¸âœ¨ Â· Claritate Ã®n sistem ğŸ§¬ Â· Flow Ã®n familie ğŸ§­â€</p>
      </section>

      <p class="topic" data-i18n="topic">Dosarele / Files ğŸ—‚ï¸</p>

      <nav class="links">
        <a href="https://amigo.sh/joint" class="btn" data-i18n="cta.signal">Semnal de urgenÈ›Äƒ ğŸ“¡</a>
        <a href="https://gratia.space" class="btn secondary" data-i18n="cta.gratia">AsociaÈ›ia Gratia</a>
        <a href="https://amigo.sh" class="btn secondary" data-i18n="cta.amigo">Ecosistem Amigo</a>
      </nav>

      <footer>
        <p class="status" data-i18n="status" data-legacy-toggle>Status: VÃ­nculo protejat ğŸ”—</p>
        <p class="offline-note" data-i18n="offline">Creat sÄƒ reziste. Chiar È™i fÄƒrÄƒ net. âš“</p>
        <div class="lang-switch" aria-label="Language switcher">
          <button type="button" data-lang="ro">RO</button>
          <button type="button" data-lang="en">EN</button>
          <button type="button" data-lang="es">ES</button>
        </div>
      </footer>
    </main>

    <script>
      const translations = {
        ro: {
          topic: "Dosarele / Files ğŸ—‚ï¸",
          subtitle: "Designer de oraÈ™e Â· City of Lights âœ¨",
          motto: "â€VreÈ›i democraÈ›ie? Nicio problemÄƒ, o facem tot noi. - Iâ€",
          "cta.signal": "Semnal de urgenÈ›Äƒ ğŸ“¡",
          "cta.gratia": "AsociaÈ›ia Gratia",
          "cta.amigo": "Ecosistem Amigo",
          status: "Status: VÃ­nculo protejat ğŸ›¡ï¸",
          offline: "Creat sÄƒ reziste. Chiar È™i fÄƒrÄƒ net. âš“"
        },
        en: {
          topic: "The Files / Dosarele ğŸ—‚ï¸",
          subtitle: "Urban designer Â· City of Lights âœ¨",
          motto: "â€œYou want democracy? No problem, we'll do it ourselves. - Iâ€",
          "cta.signal": "Emergency Signal ğŸ“¡",
          "cta.gratia": "Gratia Association",
          "cta.amigo": "Amigo Ecosystem",
          status: "Status: VÃ­nculo protected ğŸ›¡ï¸",
          offline: "Built to resist. Even without signal. âš“"
        },
        es: {
          topic: "Los Archivos / Files ğŸ—‚ï¸",
          subtitle: "DiseÃ±adora urbana Â· City of Lights âœ¨",
          motto: "â€œÂ¿QuerÃ©is democracia? No hay problema, la hacemos nosotros. - Iâ€",
          "cta.signal": "SeÃ±al de urgencia ğŸ“¡",
          "cta.gratia": "AsociaciÃ³n Gratia",
          "cta.amigo": "Ecosistema Amigo",
          status: "Estado: VÃ­nculo protegido ğŸ›¡ï¸",
          offline: "Creado para resistir. Incluso sin seÃ±al. âš“"
        }
      };

      const supported = ["ro", "en", "es"];
      const params = new URLSearchParams(window.location.search);
      const stored = localStorage.getItem("sawsan:lang");
      const browser = navigator.language?.slice(0, 2);
      const initial = supported.includes(params.get("lang"))
        ? params.get("lang")
        : supported.includes(stored)
          ? stored
          : supported.includes(browser)
            ? browser
            : "ro";

      function applyLang(lang) {
        const table = translations[lang] || translations.ro;
        document.querySelectorAll("[data-i18n]").forEach((node) => {
          const key = node.getAttribute("data-i18n");
          if (!key) return;
          if (table[key]) node.textContent = table[key];
        });
        document.querySelectorAll(".lang-switch button").forEach((btn) => {
          btn.classList.toggle("active", btn.dataset.lang === lang);
        });
        const url = new URL(window.location.href);
        url.searchParams.set("lang", lang);
        window.history.replaceState({}, "", url.toString());
        localStorage.setItem("sawsan:lang", lang);
      }

      applyLang(initial);

      const legacyKey = "sawsan:legacy";
      const legacyStored = localStorage.getItem(legacyKey);
      const legacyParam = params.get("legacy") === "1";
      const legacyToggle = document.querySelector("[data-legacy-toggle]");
      let legacyHold;

      function setLegacy(on) {
        document.body.toggleAttribute("data-legacy", on);
        localStorage.setItem(legacyKey, on ? "1" : "0");
      }

      if (legacyParam) setLegacy(true);
      else setLegacy(legacyStored === "1");

      legacyToggle?.addEventListener("pointerdown", (event) => {
        event.preventDefault();
        legacyHold = window.setTimeout(() => {
          setLegacy(true);
        }, 450);
      });
      ["pointerup", "pointerleave", "pointercancel"].forEach((evt) => {
        legacyToggle?.addEventListener(evt, () => {
          if (legacyHold) window.clearTimeout(legacyHold);
          setLegacy(false);
        });
      });

      document.querySelectorAll(".lang-switch button").forEach((btn) => {
        btn.addEventListener("click", () => applyLang(btn.dataset.lang));
      });
    </script>
  </body>

</html>
